Type: AWS::CloudFront::ResponseHeadersPolicy
Properties:
  ResponseHeadersPolicyConfig:
    Comment: !Sub 'Created by Serverless Framework by ${AWS::StackName}'
    Name: !Sub '${AWS::StackName}-default-headers-policy'
    CustomHeadersConfig:
      Items:
        - Header: X-Dns-Prefetch-Control
          Value: off
          Override: false
        - Header: X-Download-Options
          Value: noopen
          Override: false
        - Header: X-Permitted-Cross-Domain-Policies
          Value: none
          Override: false
        - Header: Cross-Origin-Opener-Policy
          Value: same-origin
          Override: false
        - Header: Cross-Origin-Resource-Policy
          Value: same-origin
          Override: false
        - Header: Server
          Value: ''
          Override: true
    SecurityHeadersConfig:
      ContentSecurityPolicy:
        ContentSecurityPolicy: >-
          base-uri 'self';
          object-src 'none';
          script-src 'self';
          style-src 'unsafe-inline' 'self' 'unsafe-eval';
          upgrade-insecure-requests;
          connect-src 'self';
          img-src 'self';
          manifest-src 'self';
          font-src 'self';
          media-src 'self';
          worker-src 'self';
          form-action 'self';
          frame-ancestors 'self';
          child-src 'none';
          default-src 'none'
        Override: false
      ContentTypeOptions:
        Override: false
      FrameOptions:
        FrameOption: DENY
        Override: false
      ReferrerPolicy:
        ReferrerPolicy: no-referrer
        Override: false
      StrictTransportSecurity:
        AccessControlMaxAgeSec: 15768000
        IncludeSubdomains: true
        Preload: true
        Override: false
      XSSProtection:
        ModeBlock: true
        Protection: true
        Override: false
    ServerTimingHeadersConfig:
      Enabled: true
      SamplingRate: !FindInMap
        - awsAccounts
        - !Ref 'AWS::AccountId'
        - cloudfrontServerTiming
