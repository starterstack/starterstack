Type: AWS::CloudFront::OriginRequestPolicy
Properties:
  OriginRequestPolicyConfig:
    Comment: !Sub 'Created by Serverless Framework by ${AWS::StackName}'
    Name: !Sub '${AWS::StackName}WebSocketOriginRequestPolicy'
    CookiesConfig:
      CookieBehavior: whitelist
      Cookies:
        - token
    QueryStringsConfig:
      QueryStringBehavior: none
    HeadersConfig:
      HeaderBehavior: whitelist
      Headers:
        Fn::If:
          - captureUserLanguageAndDevice
          - - user-agent
            - Sec-WebSocket-Key
            - Sec-WebSocket-Version
            - Sec-WebSocket-Protocol
            - Sec-WebSocket-Accept
            - CloudFront-Viewer-Country-Name
            - CloudFront-Is-Tablet-Viewer
            - CloudFront-Is-Mobile-Viewer
            - CloudFront-Is-Desktop-Viewer
            - x-url
          - - user-agent
            - Sec-WebSocket-Key
            - Sec-WebSocket-Version
            - Sec-WebSocket-Protocol
            - Sec-WebSocket-Accept
            - CloudFront-Is-Tablet-Viewer
            - CloudFront-Is-Mobile-Viewer
            - CloudFront-Is-Desktop-Viewer
            - x-url
