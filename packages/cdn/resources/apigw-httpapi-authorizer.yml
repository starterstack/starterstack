Type: AWS::ApiGatewayV2::Authorizer
Properties:
  ApiId: !Ref apigwHttp
  Name: !Sub '${AWS::StackName}-apigw-httpapi-authorizer'
  AuthorizerType: 'REQUEST'
  AuthorizerPayloadFormatVersion: '2.0'
  AuthorizerResultTtlInSeconds: 900
  AuthorizerUri: !Join
    - ''
    - - !Sub 'arn:${AWS::Partition}:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/'
      - !GetAtt HttpAuthLambdaFunction.Arn
      - '/invocations'
  IdentitySource:
    - '$request.header.cookie'
