Type: AWS::ApiGateway::Authorizer
Properties:
  RestApiId: !Ref apigwRest
  Name: !Sub '${AWS::StackName}-apigw-restapi-authorizer'
  Type: 'REQUEST'
  AuthorizerResultTtlInSeconds: 900
  AuthorizerUri: !Join
    - ''
    - - !Sub 'arn:${AWS::Partition}:apigateway:${AWS::Region}:lambda:path/2015-03-31/functions/'
      - !GetAtt HttpAuthLambdaFunction.Arn
      - '/invocations'
  IdentitySource: 'method.request.header.cookie'
