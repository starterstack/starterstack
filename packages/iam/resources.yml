Resources:
  githubOidc: ${file(./resources/github-oidc.yml)}
  ciPolicy: ${file(./resources/iam-ci-policy.yml)}
  ciRole: ${file(./resources/iam-ci-role.yml)}
  ciReadOnlyRole: ${file(./resources/iam-ci-read-only-role.yml)}
Outputs:
  deployedHash:
    Description: computed sha1 of stack
    Value: ${file(../hash.js):sha1}
    Export:
      Name: !Sub '${AWS::StackName}DeployedHash'
  deployedCommit:
    Description: git commit sha deployed
    Value: ${file(../git.js):shaCommit}
    Export:
      Name: !Sub '${AWS::StackName}DeployedCommit'
  ciRole:
    Description: ci role
    Value: !GetAtt ciRole.Arn
    Export:
      Name: !Sub '${AWS::StackName}CIRole'
  ciReadOnlyRole:
    Description: ci read only role
    Value: !GetAtt ciReadOnlyRole.Arn
    Export:
      Name: !Sub '${AWS::StackName}CIReadOnlyRole'
