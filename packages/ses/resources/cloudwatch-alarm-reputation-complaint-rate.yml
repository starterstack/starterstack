Type: AWS::CloudWatch::Alarm
Condition: isCloudwatchAlertsEnabled
Properties:
  AlarmActions:
    - ${file(../settings.js):snsAlarmTopic}
  AlarmDescription: !Sub '${AWS::StackName} reputation complaint rate 50% of the recommended warning level'
  AlarmName: !Sub '${AWS::StackName} reputation complaint rate 50% of the recommended warning level'
  ComparisonOperator: 'GreaterThanOrEqualToThreshold'
  MetricName: 'Reputation.ComplaintRate'
  Namespace: 'AWS/SES'
  Statistic: 'Average'
  EvaluationPeriods: 2
  Period: 3600
  Threshold: 0.0005
